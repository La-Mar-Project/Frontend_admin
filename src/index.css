@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css');

* {
  box-sizing: border-box;
}

html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100vh;
  font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif;
  background-color: #FFFFFF;
  overflow: hidden;
}

#root {
  width: 100%;
  height: 100vh;
  padding: 0;
  margin: 0;
  overflow: hidden;
}

/* 반응형 스케일링 - 모든 화면 크기에 적용 */
:root {
  --base-width: 1440px;
  --base-height: 900px;
  --scale-width: calc(100vw / var(--base-width));
  --scale-height: calc(100vh / var(--base-height));
  /* 전역 스케일 변수 - 모든 요소가 동일한 스케일 사용 */
  --scale: min(var(--scale-width), var(--scale-height));
}

/* 기본 스케일 계산 */
.layout-wrapper {
  /* :root에서 정의된 전역 --scale 변수 사용 */
  transform: scale(var(--scale));
  transform-origin: left top;
  width: var(--base-width);
  height: calc(100vh / var(--scale));
  will-change: transform;
  flex-shrink: 0;
  position: relative;
}

/* 화면 크기 변경 시 스케일 업데이트 */
@media (max-height: 900px) {
  :root {
    --scale: min(var(--scale-width), var(--scale-height));
  }
  .layout-wrapper {
    height: calc(100vh / var(--scale));
  }
}

/* 화면이 매우 가로로 길 때도 잘리지 않도록 min() 유지 */
@media (min-width: 1440px) {
  :root {
    /* 가로로 확대되어도 잘리지 않도록 min() 유지 */
    --scale: min(var(--scale-width), var(--scale-height));
  }
  .layout-wrapper {
    height: calc(100vh / var(--scale));
  }
}

/* 사이드바, 헤더, 푸터 모두 스케일링 적용 */
.sidebar-responsive,
.header-responsive,
.footer-responsive {
  transform: scale(var(--scale)) !important;
  transform-origin: left top !important;
}

/* 사이드바 스케일링 적용 */
.sidebar-responsive {
  position: fixed !important;
  left: 0 !important;
  top: 0 !important;
  bottom: 0 !important;
  height: 100vh !important;
  min-height: 100vh !important;
  max-height: none !important;
  width: 256px !important;
  background-color: transparent !important;
  z-index: 50 !important;
  /* 배경이 바닥까지 확실히 채워지도록 */
  overflow-x: hidden !important;
}

/* 사이드바 배경 확장 - 스케일링 없이 화면 전체 높이로 고정 */
.sidebar-responsive::before {
  content: '';
  position: fixed;
  left: 0;
  top: 0;
  bottom: 0;
  width: 256px;
  height: 100vh;
  min-height: 100vh;
  max-height: none;
  background-color: #F7F8FC;
  z-index: -1;
  /* 스케일링 적용하지 않고 실제 크기 유지 */
  transform: none !important;
}

/* 사이드바 배경 확장 - 스케일링 후에도 바닥까지 채워지도록 (추가 레이어) */
.sidebar-responsive::after {
  content: '';
  position: fixed;
  left: 0;
  top: 0;
  bottom: 0;
  width: 256px;
  height: 100vh;
  min-height: 100vh;
  max-height: none;
  background-color: #F7F8FC;
  z-index: -2;
  /* 스케일링 적용하지 않고 실제 크기 유지 */
  transform: none !important;
}

/* 헤더 스케일링 적용 */
.header-responsive {
  position: fixed !important;
  top: 0 !important;
  left: calc(256px * var(--scale)) !important;
  width: 1184px !important;
  height: 58px !important;
  z-index: 40 !important;
  transform-origin: left top !important;
}

/* 푸터 스케일링 적용 */
.footer-responsive {
  position: fixed !important;
  bottom: 0 !important;
  left: calc(256px * var(--scale)) !important;
  width: 1184px !important;
  height: 161px !important;
  z-index: 40 !important;
  transform-origin: left bottom !important;
}

@media (max-width: 768px) {
  /* 모바일에서는 사이드바를 햄버거 메뉴로 변경하는 등의 처리 가능 */
  /* 현재는 기본 레이아웃 유지 */
}

/* 제목 섹션 통일 스타일 - 고정 크기로 유지 (scale에 의해 자동 조정됨) */
.title-section {
  width: 1077px;
}
